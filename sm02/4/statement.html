<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm02-4: asm/algorithms/pers-stack</h3>
<p>Напишите программу, реализующую операции над персистентным стеком
            (знающим все свои промежуточные состояния).</p>
<p>На стандартном входе программе подаётся не более 1000 команд в виде 32-битных знаковых чисел:</p>
<ul>
<li><code>0 i x   </code> - push(i, x);</li>
<li><code>1 i     </code> - pop(i);</li>
</ul>
<p>Нулевое состояние - состояние пустого стека</p>
<p>Элемент (состояние) стека должен храниться в памяти в виде двух машинных слов:
    хранимое число и адрес (или индекс) элемента-предка.</p>
<p>Элементы стека должны храниться в статически заданном массиве достаточного размера.</p>
<p>Команда push создает новое состояние, равное добавлению числа x
        в конец состояния i.</p>
<p>Команда pop печатает вершину стека состояния i и создает
        новое состояние - состояние после удаления.</p>
<p>Команда pop пустого списка не создает новое состояние и печатает -1.</p>
<p>Признаком завершения списка команд является флаг CF,
            выставленный функцией read* из simpleio.</p>
<p>Гарантируется, что состояния, на которые ссылаются команды, существуют.</p>
<h3>Examples</h3><h4>Input</h4>
<pre>0 0 100
0 1 200
1 1
1 2
1 2
0 5 10
1 6
1 7
1 8</pre>
<h4>Output</h4>
<pre>100
200
200
10
100
-1</pre>
<p> </p></body></html>