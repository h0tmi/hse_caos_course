<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm08-5: c/floats/intrinsics-image</h3>
<p>Дан массив чисел типа float являющийся строкой изображения закодированного в RGB формате.</p>
<p>То есть строка состоит из 3*n чисел, каждая группа по три числа которых является значением соответствующих каналов очередного пикселя.</p>
<p>Порой при обработке изображения приходится менять местами каналы, возможно добавляя дополнительный alpha канал (например, из RGB в BGRA формат).</p>
<p>Напишите функцию <code>void swap_line(const float *src, float *dst, unsigned n, const int order[4], float extra)</code></p>
<p>Принимающую на вход строку изображения формата RGB длины n и преобразующая согласно порядку описанному в массиве order (0 - Red, 1 - Green, 2 - Blue, 3 - Extra)</p>
<p>Гарантируется что и src и dst имеют дополнительно запас в 16 элементов слева и справа.</p>
<p>Тесты рассчитаны примерно чтобы:</p>
<p>Решения использующие 128 битные получали 0 баллов</p>
<p>Решения использующие 256 битные 50 баллов</p>
<p>Решения использующие AVX512 100 баллов</p>
<p>Возможно полезны инструкции: vpermps, andps, andnps, orps</p>
<p>Решение будет скомпилировано с флагами <code>-O3 -march=native</code></p>
<p> </p></body></html>